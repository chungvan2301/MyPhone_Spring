<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Sản phẩm</title>

    <link rel="shortcut icon" href="/images/logo.png" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link href="/css/index.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/regular.min.css" rel="stylesheet" type="text/css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.11.2/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script type="text/javascript" src="/script/boostrap-rating-home.js"></script>
    <script type="text/javascript" src="/script/shop.js"></script>
</head>
<body>

<div class="container-fluid justify-contain-between">
    <div class="row">
        <div class="col-md-4 col-lg-4 col-xl-2 mb-3" th:each="product : ${products}">
            <div class="card mx-auto" style="width: 230px; height: 360px; position: relative;">
                <div class="blinking" style="position: absolute; top: 0; left: 0; z-index:1;">
                    <img height="28.65px" width="54px;" src="/images/new.png">
                </div>
                <div th:if="${product.quantitySold>=200}" class="" style="position: absolute; top: 0; right: 0; z-index:1;">
                    <img height="40px" width="40px;" src="/images/bestseller.png">
                </div>
                <div class="mx-auto">
                    <a style="text-decoration: none;" th:href="@{/shop/view-product/{id}(id=${product.id})}">
                        <img class="mt-3 position-relative mx-0" height="180px" width="180px" th:src="${product.imageName}">
                    </a>
                </div>
                <div class="card-body">
                    <h2 style="color:#404852; font-size: 16px;" class="card-title product-name" th:text="${product.name}"></h2>
                    <p class="card-text" style="color: red; position: absolute; bottom: 2rem;" th:text="${#numbers.formatDecimal(product.price,1, 'COMMA', 0, 'DEFAULT')}"></p>
                    <input style="position: absolute; bottom: 1rem;" th:value="${product.avgRating}" class="rating card-text" type="hidden" name="rating" readonly/>
                    <p class="card-text" style="color: black; font-size:0.75rem; position: absolute; right:1rem; bottom: 1rem;" th:text="'Đã bán: '+${product.quantitySold}">Đã bán</p>
                </div>
            </div>
        </div>
    </div>
</div>

<input th:if="${coutProducts!=null}" type="hidden" id="countProducts" th:value="${coutProducts}" />

</body>
</html>